<html>
	<head>
		<link rel="stylesheet" type="text/css" href="bower_components/materialize/bin/materialize.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
	</head>
	<body>
  <nav>
    <div class="nav-wrapper">
      <a class="brand-logo">Logo</a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        <li><a href="#/accueil">Accueil</a></li>
        <li><a href="#/presentation">Pr&eacute;sentation</a></li>
        <li><a href="#/services">Services</a></li>
        <li><a href="#/domotique">Domotique</a></li>
        <li><a href="#/contact">Contact</a></li>
      </ul>
      <ul class="side-nav" id="mobile-demo">
        <li><a href="#/accueil">Accueil</a></li>
        <li><a href="#/presentation">Pr&eacute;sentation</a></li>
        <li><a href="#/services">Services</a></li>
        <li><a href="#/domotique">Domotique</a></li>
        <li><a href="#/contact">Contact</a></li>
      </ul>
    </div>
  </nav>
	
  
  
  <div id="main" ></div>	
  
   <footer class="page-footer" style="background:transparent; ">

          <div class="footer-copyright" style="color:#555">
            <div class="container">
            Â© 2014 Copyright Text
            <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
            </div>
          </div>
        </footer>
		<!-- scripts -->
		<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
		<script type="text/javascript" src="bower_components/materialize/bin/materialize.js"></script>
		<script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
		<script type="text/javascript" src="bower_components/backbone/backbone-min.js"></script>
    
    <script type="text/javascript">
      $(function () {
        
        $('.button-collapse').sideNav();
        
        
        var options =[
          {path : 'accueil', view : 'accueil', root : true},
          {path : 'presentation', view : 'presentation'},
          {path : 'services', view : 'services'},
          {path : 'domotique', view : 'domotique'},
          {path : 'contact', view : 'contact'}
        ];
        
        var open = function (viewname) {
          $('#main').addClass('empty');
            $.get('pages/'+viewname+'.html', function (data) {
              $('#main').html(data);
              $('#main').removeClass('empty');
            });
        };
        
        var routes = {}
        options.forEach(function (item) {
          routes[item.path] = item.view;
          if(item.root){
            routes[''] = item.view;
          }
        });
        routes["*actions"] = "defaultRoute";
        var AppRouter = Backbone.Router.extend({
            routes: routes
        });
        var router = new AppRouter;
        options.forEach(function (item) {
          router.on('route:' + item.view, function () {
            open(item.view);
          });
        });
        router.on('route:defaultRoute', function (actions) {
            open('not-found'); 
        });
        Backbone.history.start();
        
      });
      
    </script>
	</body>
</html>
